# React Video Surveillance —Å–∏—Å—Ç–µ–º–∞ —Å SentryShot –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π

–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è —Å –∏–Ω—Ç—É–∏—Ç–∏–≤–Ω–æ –ø–æ–Ω—è—Ç–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å SentryShot backend –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∫–∞–º–µ—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–∞–±–æ—Ç—ã —Å –∞—Ä—Ö–∏–≤–Ω—ã–º–∏ –∑–∞–ø–∏—Å—è–º–∏.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- **–ü–æ—Ç–æ–∫–æ–≤–æ–µ –≤–∏–¥–µ–æ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** —á–µ—Ä–µ–∑ HLS —Å –Ω–∏–∑–∫–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π
- **–ê—Ä—Ö–∏–≤–Ω—ã–µ –∑–∞–ø–∏—Å–∏** —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –ø–æ–∏—Å–∫–æ–º
- **–ú—É–ª—å—Ç–∏–∫–∞–º–µ—Ä–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** —Å –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–π —Å–µ—Ç–∫–æ–π
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** —á–µ—Ä–µ–∑ SentryShot Basic Auth
- **Responsive –¥–∏–∑–∞–π–Ω** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º—ã–π —Ç–∞–π–º–ª–∞–π–Ω** –¥–ª—è —Ç–æ—á–Ω–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –∞—Ä—Ö–∏–≤—É
- **–û–±—Ä–µ–∑–∫–∞ –≤–∏–¥–µ–æ** —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é —Å–∫–∞—á–∏–≤–∞–Ω–∏—è —Ñ—Ä–∞–≥–º–µ–Ω—Ç–æ–≤
- **–ó–∞–∫–ª–∞–¥–∫–∏ –∏ —Å–æ–±—ã—Ç–∏—è** –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ª–æ–∫–∞—Ü–∏—è–º –∏ –∫–∞–º–µ—Ä–∞–º**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ** –ø—Ä–∏ —Å–±–æ—è—Ö —Å–µ—Ç–∏
- **–ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ api/                    # API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SentryShot
‚îÇ   ‚îú‚îÄ‚îÄ sentryshot.ts      # –û—Å–Ω–æ–≤–Ω–æ–π API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ archiveAPI.ts      # API –¥–ª—è –∞—Ä—Ö–∏–≤–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ authManager.ts     # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π
‚îú‚îÄ‚îÄ components/            # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ Auth/              # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
‚îÇ   ‚îú‚îÄ‚îÄ Camera/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–º–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ Video/             # –í–∏–¥–µ–æ–ø–ª–µ–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Archive/           # –ê—Ä—Ö–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ Layout/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
‚îú‚îÄ‚îÄ config/                # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ sentryshot.ts      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SentryShot
‚îú‚îÄ‚îÄ store/                 # Zustand state management
‚îÇ   ‚îî‚îÄ‚îÄ useStore.ts        # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
‚îî‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
    ‚îî‚îÄ‚îÄ streamerAdapter.ts # –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- npm/yarn
- SentryShot Backend Server (v2.0+)
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –±—Ä–∞—É–∑–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π HLS

### SentryShot Backend
- **–í–µ—Ä—Å–∏—è**: 2.0 –∏–ª–∏ –≤—ã—à–µ
- **–ü–æ—Ä—Ç—ã**: 2020 (HTTP) / 2021 (HTTPS)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: Basic Auth –≤–∫–ª—é—á–µ–Ω–∞
- **API**: REST API –≤–∫–ª—é—á–µ–Ω
- **–ü–æ—Ç–æ–∫–æ–≤–æ–µ –≤–∏–¥–µ–æ**: HLS –≤–∫–ª—é—á–µ–Ω

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone <repository-url>
cd askr-video

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install

# –ò–ª–∏ —Å yarn
yarn install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SentryShot Backend

#### 2.1 –£—Å—Ç–∞–Ω–æ–≤–∫–∞ SentryShot

```bash
# –°–∫–∞—á–∏–≤–∞–Ω–∏–µ SentryShot
curl -L https://codeberg.org/SentryShot/sentryshot/releases/latest/download/sentryshot-linux-amd64 -o sentryshot
chmod +x sentryshot

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
docker pull codeberg.org/sentryshot/sentryshot:latest
```

#### 2.2 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è `sentryshot.toml`

```toml
# –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
[general]
logLevel = "info"
tempDir = "/tmp/sentryshot"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
[web]
port = 2020
httpsPort = 2021
# –£–∫–∞–∂–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è HTTPS
# certFile = "/path/to/cert.pem"
# keyFile = "/path/to/key.pem"

# –í–∫–ª—é—á–µ–Ω–∏–µ API
[api]
enabled = true

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
[auth]
method = "basic"

# –°–æ–∑–¥–∞–Ω–∏–µ —É—á–µ—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
[[accounts]]
id = "admin"
username = "admin"
password = "your_secure_password"
admin = true

# –ü—Ä–∏–º–µ—Ä –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã
[[monitors]]
id = "camera1"
name = "–ì–ª–∞–≤–Ω–∞—è –∫–∞–º–µ—Ä–∞"
enable = true

[monitors.source]
type = "rtsp"
main = "rtsp://192.168.1.100:554/stream1"
sub = "rtsp://192.168.1.100:554/stream2"  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ

# –í–∫–ª—é—á–µ–Ω–∏–µ –∑–∞–ø–∏—Å–∏
[monitors.recorder]
enable = true
videoDuration = 60  # –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–æ–≤ –≤ –º–∏–Ω—É—Ç–∞—Ö

# –í–∫–ª—é—á–µ–Ω–∏–µ HLS —Å—Ç—Ä–∏–º–∏–Ω–≥–∞
[monitors.hls]
enable = true
segmentDuration = 4
```

#### 2.3 –ó–∞–ø—É—Å–∫ SentryShot

```bash
# –ü—Ä—è–º–æ–π –∑–∞–ø—É—Å–∫
./sentryshot -config sentryshot.toml

# –ò–ª–∏ —á–µ—Ä–µ–∑ Docker
docker run -d \
  --name sentryshot \
  -p 2020:2020 \
  -v $(pwd)/config:/config \
  -v $(pwd)/recordings:/recordings \
  codeberg.org/sentryshot/sentryshot:latest
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞

#### 3.1 –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local`:

```env
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SentryShot
VITE_SENTRYSHOT_URL=http://localhost:2020
VITE_SENTRYSHOT_USERNAME=admin
VITE_SENTRYSHOT_PASSWORD=your_secure_password

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
VITE_NODE_ENV=development
```

#### 3.2 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `src/config/sentryshot.ts` –¥–ª—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```typescript
export const customConfig: SentryShotConfig = {
  serverUrl: 'your-sentryshot-server.com',
  port: 2020,
  useHttps: false,
  
  streaming: {
    preferLowRes: false,
    maxBufferLength: 30,
    connectionTimeout: 10000,
    retryAttempts: 3
  },
  
  archive: {
    maxRangeDays: 30,
    pageSize: 50,
    enableCaching: true
  }
};
```

### 4. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev

# –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
npm run build

# –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Å–±–æ—Ä–∫–∏
npm run preview
```

## üê≥ Docker-compose –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ `docker-compose.yml` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞:

```yaml
version: '3.8'

services:
  # SentryShot Backend
  sentryshot:
    image: codeberg.org/sentryshot/sentryshot:latest
    container_name: sentryshot-backend
    ports:
      - "2020:2020"
      - "2021:2021"
    volumes:
      - ./sentryshot-config:/config
      - ./recordings:/recordings
    restart: unless-stopped
    networks:
      - surveillance-net

  # React Frontend
  frontend:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: surveillance-frontend
    ports:
      - "80:80"
    depends_on:
      - sentryshot
    environment:
      - VITE_SENTRYSHOT_URL=http://sentryshot:2020
    networks:
      - surveillance-net

  # –¢–µ—Å—Ç–æ–≤–∞—è –∫–∞–º–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
  test-camera:
    image: jrottenberg/ffmpeg:4.4-ubuntu
    container_name: test-camera-stream
    command: >
      -re -f lavfi -i testsrc=size=1280x720:rate=30 
      -c:v libx264 -preset ultrafast -tune zerolatency 
      -f rtsp rtsp://0.0.0.0:8554/test
    ports:
      - "8554:8554"
    networks:
      - surveillance-net

networks:
  surveillance-net:
    driver: bridge

volumes:
  recordings:
  sentryshot-config:
```

–ó–∞–ø—É—Å–∫ –ø–æ–ª–Ω–æ–≥–æ —Å—Ç–µ–∫–∞:

```bash
docker-compose up -d
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–∞–º–µ—Ä

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- **RTSP** (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- **HTTP/HTTPS** –ø–æ—Ç–æ–∫–∏
- **ONVIF** —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- **USB** –∫–∞–º–µ—Ä—ã (—Ç–æ–ª—å–∫–æ –ª–æ–∫–∞–ª—å–Ω–æ)

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞–º–µ—Ä –≤ SentryShot

```toml
# IP-–∫–∞–º–µ—Ä–∞
[[monitors]]
id = "outdoor_cam_1"
name = "–£–ª–∏—á–Ω–∞—è –∫–∞–º–µ—Ä–∞ 1"
enable = true

[monitors.source]
type = "rtsp"
main = "rtsp://admin:password@192.168.1.100:554/h264Preview_01_main"
sub = "rtsp://admin:password@192.168.1.100:554/h264Preview_01_sub"

# USB-–∫–∞–º–µ—Ä–∞
[[monitors]]
id = "usb_cam_1"
name = "USB –∫–∞–º–µ—Ä–∞"
enable = true

[monitors.source]
type = "v4l2"
main = "/dev/video0"

# HTTP –ø–æ—Ç–æ–∫
[[monitors]]
id = "http_cam_1"
name = "HTTP –∫–∞–º–µ—Ä–∞"
enable = true

[monitors.source]
type = "http"
main = "http://192.168.1.101:8080/video"
```

## üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä–Ω—ã–µ —Å–æ–∫—Ä–∞—â–µ–Ω–∏—è

| –ö–ª–∞–≤–∏—à–∞ | –î–µ–π—Å—Ç–≤–∏–µ |
|---------|----------|
| `–ü—Ä–æ–±–µ–ª` | –ü–∞—É–∑–∞/–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ |
| `‚Üê` | –ù–∞–∑–∞–¥ 10 —Å–µ–∫—É–Ω–¥ |
| `‚Üí` | –í–ø–µ—Ä–µ–¥ 10 —Å–µ–∫—É–Ω–¥ |
| `Shift + ‚Üê/‚Üí` | –ù–∞–∑–∞–¥/–í–ø–µ—Ä–µ–¥ 1 –º–∏–Ω—É—Ç–∞ |
| `C` | –†–µ–∂–∏–º –æ–±—Ä–µ–∑–∫–∏ –≤–∏–¥–µ–æ |
| `M` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä –Ω–∞—á–∞–ª–∞ |
| `N` | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –º–∞—Ä–∫–µ—Ä –∫–æ–Ω—Ü–∞ |
| `Esc` | –í—ã—Ö–æ–¥ –∏–∑ —Ä–µ–∂–∏–º–∞ –æ–±—Ä–µ–∑–∫–∏ |

### –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É

1. **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: –°–µ—Ç–∫–∞ –∫–∞–º–µ—Ä –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
2. **–ê—Ä—Ö–∏–≤**: –ü–æ–∏—Å–∫ –∏ –ø—Ä–æ—Å–º–æ—Ç—Ä –∑–∞–ø–∏—Å–µ–π
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π (–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ)

## üîç –ü–æ–∏—Å–∫ –ø–æ –∞—Ä—Ö–∏–≤—É

### –§–∏–ª—å—Ç—Ä—ã
- **–í—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏–∞–ø–∞–∑–æ–Ω**: –û—Ç/–î–æ —Å –±—ã—Å—Ç—Ä—ã–º–∏ –ø—Ä–µ—Å–µ—Ç–∞–º–∏
- **–õ–æ–∫–∞—Ü–∏–∏**: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—é –∫–∞–º–µ—Ä
- **–ö–∞–º–µ—Ä—ã**: –í—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞–º–µ—Ä
- **–°–æ–±—ã—Ç–∏—è**: –ü–æ–∏—Å–∫ –ø–æ –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è/–æ–±—ä–µ–∫—Ç–æ–≤

### –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–µ—Å–µ—Ç—ã
- –ü–æ—Å–ª–µ–¥–Ω–∏–π —á–∞—Å
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ 24 —á–∞—Å–∞
- –ü–æ—Å–ª–µ–¥–Ω—è—è –Ω–µ–¥–µ–ª—è

## üö® –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º

**–°–∏–º–ø—Ç–æ–º**: "–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å SentryShot
curl -u admin:password http://localhost:2020/api/monitors

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ SentryShot
docker logs sentryshot-backend
```

**–°–∏–º–ø—Ç–æ–º**: "–ù–µ—Ç –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞"
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–º–µ—Ä—ã
curl -u admin:password http://localhost:2020/api/monitors

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ RTSP –ø–æ—Ç–æ–∫ –Ω–∞–ø—Ä—è–º—É—é
ffplay rtsp://admin:password@192.168.1.100:554/stream
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

**–í—ã—Å–æ–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU/–ø–∞–º—è—Ç–∏**:
- –£–º–µ–Ω—å—à–∏—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–æ–≤ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞–º–µ—Ä
- –í–∫–ª—é—á–∏—Ç–µ `preferLowRes: true` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SentryShot

**–ó–∞–¥–µ—Ä–∂–∫–∏ –≤ –ø–æ—Ç–æ–∫–µ**:
- –£–º–µ–Ω—å—à–∏—Ç–µ `maxBufferLength` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–æ–ø—É—Å–∫–Ω—É—é —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ç–∏
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≤–æ–¥–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –∫–∞–º–µ—Ä

### –õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞

```bash
# –õ–æ–≥–∏ SentryShot
docker logs -f sentryshot-backend

# –õ–æ–≥–∏ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–≤ –±—Ä–∞—É–∑–µ—Ä–µ)
# –û—Ç–∫—Ä–æ–π—Ç–µ DevTools -> Console

# –ü—Ä–æ–≤–µ—Ä–∫–∞ API –Ω–∞–ø—Ä—è–º—É—é
curl -u admin:password \
  -H "Content-Type: application/json" \
  http://localhost:2020/api/monitors
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞

1. **HTTPS**: –í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
```toml
[web]
httpsPort = 2021
certFile = "/path/to/cert.pem"
keyFile = "/path/to/key.pem"
```

2. **–°–∏–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è —É—á–µ—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π
3. **–§–∞–π—Ä–≤–æ–ª**: –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –ø–æ—Ä—Ç–∞–º SentryShot
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è**: –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–π—Ç–µ SentryShot –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ reverse proxy (Nginx)

```nginx
server {
    listen 443 ssl;
    server_name surveillance.yourdomain.com;
    
    ssl_certificate /path/to/cert.pem;
    ssl_certificate_key /path/to/key.pem;
    
    # Frontend
    location / {
        proxy_pass http://localhost:80;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # SentryShot API
    location /api/ {
        proxy_pass http://localhost:2020/api/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
    
    # SentryShot Streams
    location /stream/ {
        proxy_pass http://localhost:2020/stream/;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_buffering off;
    }
}
```

## üìù –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `src/api/` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SentryShot API
- `src/components/` - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `src/store/` - Zustand state management
- `src/config/` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∫–∞–º–µ—Ä

1. –î–æ–±–∞–≤—å—Ç–µ –∫–∞–º–µ—Ä—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é SentryShot
2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ SentryShot
3. –ö–∞–º–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ `src/App.css`:

```css
:root {
  --primary-color: #D3544A;    /* –û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç */
  --color-main2: #4175D4;      /* –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ü–≤–µ—Ç */
  --text-color: #333;          /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */
  --light-bg: #F2F3F7;         /* –°–≤–µ—Ç–ª—ã–π —Ñ–æ–Ω */
}
```

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- [SentryShot Documentation](https://codeberg.org/SentryShot/sentryshot)
- [React Documentation](https://react.dev)
- [HLS.js Documentation](https://github.com/video-dev/hls.js/)

### –°–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
–ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å–æ–∑–¥–∞–π—Ç–µ issue —Å —É–∫–∞–∑–∞–Ω–∏–µ–º:
- –í–µ—Ä—Å–∏–∏ SentryShot
- –í–µ—Ä—Å–∏–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –õ–æ–≥–æ–≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - –¥–µ—Ç–∞–ª–∏ –≤ —Ñ–∞–π–ª–µ LICENSE

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å SentryShot backend. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –¥–ª—è –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è.